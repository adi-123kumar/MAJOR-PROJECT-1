<% layout("/layouts/boilerplate") %>

  <style>
    /* Background and font */
    body {
      background: linear-gradient(135deg, #f0f4f8, #d9e2ec);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      color: #333;
      margin: 0;
      padding: 2rem 1rem;
    }

    /* Filters container */
    #filters {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 2rem;
      margin-bottom: 2rem;
    }

    /* Individual filter styling */
    .filter {
      background-color: #ffffffdd;
      /* translucent white */
      border-radius: 12px;
      padding: 1rem 1.5rem;
      text-align: center;
      opacity: 0.75;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: opacity 0.3s ease, transform 0.3s ease;
      cursor: pointer;
      user-select: none;
      width: 100px;
    }

    /* Hover effect on filters */
    .filter:hover {
      opacity: 1;
      transform: translateY(-6px);
      box-shadow: 0 8px 14px rgba(0, 0, 0, 0.15);
    }

    .filter p {
      font-size: 0.85rem;
      margin-top: 0.4rem;
      font-weight: 600;
      color: #1a73e8;
    }

    /* Icon style */
    .filter i {
      font-size: 1.8rem;
      color: #1a73e8;
      transition: color 0.3s ease;
    }

    .filter:hover i {
      color: #0b47a1;
    }

    /* Listings grid */
    .row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 2rem;
      padding-bottom: 3rem;
    }

    /* Card styling */
    .card {
      position: relative;
      background-color: #fff;
      border-radius: 16px;
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
      overflow: hidden;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
    }

    /* Card hover effect */
    .card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.18);
    }

    .card img {
      border-top-left-radius: 16px;
      border-top-right-radius: 16px;
      object-fit: cover;
      height: 20rem;
      width: 100%;
      transition: transform 0.3s ease;
    }

    .card:hover img {
      transform: scale(1.05);
    }

    /* Card body */
    .card-body {
      padding: 1rem 1.3rem;
      color: #222;
    }

    .card-text {
      font-weight: 600;
      font-size: 1.1rem;
    }

    /* Link styling */
    a.listing-link {
      text-decoration: none;
      color: inherit;
      display: block;
    }

    a.listing-link:hover {
      text-decoration: none;
    }
  </style>

  <body>

    <div class="row">
      <% for(let listing of allListings) { %>
        <a href="/listings/<%= listing._id %>" class="listing-link">
          <div class="card">
            <img src="<%= listing.image.url %>" alt="listing_image" />
            <div class="card-body">
              <p class="card-text">
                <b>
                  <%= listing.title %>
                </b><br />
                <% if(listing.price) { %>
                  &#8377;<%= listing.price.toLocaleString("en-IN") %> /night
                    <% } %>
              </p>
            </div>
          </div>
        </a>
        <% } %>
    </div>
  </body>
